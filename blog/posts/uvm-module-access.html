<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Accessing tops module from class-based component in UVM | DV Depot</title>
    <meta name="description" content="Casual thoughts, musings and whatever else is on the mind.">
    <meta name="generator" content="VitePress v1.3.4">
    <link rel="preload stylesheet" href="/assets/style.DReofdp_.css" as="style">
    
    <script type="module" src="/assets/app.BnkljH9f.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BLlGvO2X.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CbP2pKAi.js">
    <link rel="modulepreload" href="/assets/blog_posts_uvm-module-access.md.DnT_vcmy.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle" data-v-6aa21345 data-v-ab179fa1><a class="title" href="/" data-v-ab179fa1><!--[--><!--]--><!----><span data-v-ab179fa1>DV Depot</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/notes/intro.html" tabindex="0" data-v-dc692963 data-v-9c663999><!--[--><span data-v-9c663999>Notes</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/blog/" tabindex="0" data-v-dc692963 data-v-9c663999><!--[--><span data-v-9c663999>Blogs</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>Extras</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/extras/site-info.html" data-v-43f1e123><!--[-->About<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/extras/references.html" data-v-43f1e123><!--[-->References<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/yanaginx/yanaginx.github.io" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/yanaginx/yanaginx.github.io" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _blog_posts_uvm-module-access" data-v-39a288b8><div><p>The case for using this access is inside a UVM Testbench, where the test would generate some randomization on the data and need to access the instantiated module (let say <code>model</code> in this case) in the <code>top</code>.</p><hr><div data-v-6296ae86><div data-v-6296ae86><div class="flex justify-between items-center mb-1 text-gray-500" data-v-6296ae86><div class="flex items-center space-x-4" data-v-6296ae86><img class="w-7 h-7 rounded-full" src="https://github.com/yanaginx.png" alt="Duong Van"><a href="/blog/authors/duong-van.html" class="inline-flex items-center font-medium hover:text-[color:var(--vp-c-brand-dark)]"><span class="font-medium dark:text-white">Duong Van</span></a></div><span class="bg-primary-100 text-sm font-medium inline-flex items-center rounded" data-v-6296ae86><div data-v-6296ae86><div class="i-heroicons-outline-book-open mr-2"></div><!----><!----><span>Article</span></div></span><span class="text-sm" data-v-6296ae86>almost 2 years ago</span></div><h3 class="mb-2 mt-2 text-2xl font-bold tracking-tight text-[color:var(--vp-c-brand-light)] dark:text-[color:var(--vp-c-brand-dark)]" data-v-6296ae86><span data-v-6296ae86>Accessing tops module from class-based component in UVM</span></h3><div class="flex justify-between items-center mt-2 text-gray-500" data-v-6296ae86><!----><div data-v-6296ae86></div><!----></div></div><!--[--><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>One naive solution in my case is using UVM’s configuration database (<code>uvm_config_db</code>) to pass down the <code>model</code> handle from the top to the test component. The above solution won’t work since the module cannot be passed inside <code>uvm_config_db</code> This is where the following solution should be useful.</p><h2 id="the-workaround" tabindex="-1">The workaround <a class="header-anchor" href="#the-workaround" aria-label="Permalink to &quot;The workaround&quot;">​</a></h2><p>For the workaround demonstration, a simple UVM testbench generated with <a href="https://www.doulos.com/knowhow/systemverilog/uvm/easier-uvm" target="_blank" rel="noreferrer">EasierUVM</a> will be used.</p><h3 id="overview-of-the-testbench" tabindex="-1">Overview of the testbench <a class="header-anchor" href="#overview-of-the-testbench" aria-label="Permalink to &quot;Overview of the testbench&quot;">​</a></h3><p>// Update the graph later with the model’s module</p><p><img src="/assets/Untitled.CBJa96O8.png" alt="Untitled"></p><h3 id="implementation" tabindex="-1">Implementation <a class="header-anchor" href="#implementation" aria-label="Permalink to &quot;Implementation&quot;">​</a></h3><p>The DUT in this case is a simple ALU’s adder</p><div class="language-system-verilog vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">system-verilog</span><pre class="shiki shiki-themes vitesse-light vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">module</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> adder</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    input</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  logic</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> A</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    input</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  logic</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> B</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    output</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> logic</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">8</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> F</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">        )</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    always_comb</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">        F</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> &lt;=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> A</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">+</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">B</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">endmodule</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>The module wanted to be accessed from the test is the input generator (this is for demonstration purpose only, for normal UVM testbench this should be implemented as UVM driver-driver BFM pair)</p><div class="language-system-verilog vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">system-verilog</span><pre class="shiki shiki-themes vitesse-light vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">module</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> input_model</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    input</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  logic</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> clk</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    output</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> logic</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> A</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    output</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> logic</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> B</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  logic</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> input_pool</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">[</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  int</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> current_index</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  int</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rand_index</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  reg</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> reg_A</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  reg</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> reg_B</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  // Function to be called for adding randomized input</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  function</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> void</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> insert_input</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">logic</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">[</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> value</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    input_pool</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">[</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">current_index</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">++</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> value</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    $display</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT MODEL: Currently inserting: 0x</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">%8x</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> at index </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">%d</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">value</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">current_index</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  endfunction</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> :</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> insert_input</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  always</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> @</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">posedge</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> clk</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    assert</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> randomize</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">rand_index</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">with</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rand_index</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> inside</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> {</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">[</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">current_index</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">; </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">else</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    begin</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      $display</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">why the fuck can it not randomize properly?</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    end</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    $display</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Current rand_index: </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">%d</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">rand_index</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    $display</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Current current_index: </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">%d</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">current_index</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    reg_A</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> &lt;=</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> input_pool</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">[</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">rand_index</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    reg_B</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> &lt;=</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> input_pool</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">[</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">rand_index</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  assign</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> A</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> reg_A</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  assign</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> B</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> reg_B</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">endmodule</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> :</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> input_model</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>The package containing the virtual class extending <code>uvm_object</code> → This will be used in other testbench’s class components</p><div class="language-system-verilog vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">system-verilog</span><pre class="shiki shiki-themes vitesse-light vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">package</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> backdoor_access_pkg</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  import</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> uvm_pkg</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  virtual</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> input_model_backdoor</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> extends</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> uvm_pkg::uvm_object</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    function</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> new</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">string</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> name</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">input_model_backdoor</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      super</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">new</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    endfunction</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    pure</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> virtual</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> function</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> void</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> insert_input</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">logic</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> value</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  endclass</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> :</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> input_model_backdoor</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">endpackage</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> :</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> backdoor_access_pkg</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>The wrapper class for the module that extends and implement all the virtual methods of the created virtual class</p><div class="language-system-verilog vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">system-verilog</span><pre class="shiki shiki-themes vitesse-light vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#444444;">`</span><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">uvm_macros.svh</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> uvm_pkg</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> backdoor_access_pkg</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> backdoor_im</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> extends</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> input_model_backdoor</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">  </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  function</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> new</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">string</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> name</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">backdoor_im</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    super</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">new</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  endfunction</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> :</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> new</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  function</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> void</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> insert</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">logic</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">[</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> value</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line highlighted"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    top_tb</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">th</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">model</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">insert_input</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">value</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  endfunction</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> :</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> insert</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">            </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">endclass</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> :</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> backdoor_im</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">initial</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  backdoor_im</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> backdoor_im_i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  backdoor_im_i</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> new</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">();</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  uvm_config_db</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> #</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">uvm_object</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">uvm_root::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">get</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(), </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">*</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">IM_BACKDOOR_ACCESS</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">backdoor_im_i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">end</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><ul><li>Adding the handle to the <code>uvm_config_db</code> under <code>uvm_root::get()</code> as the parent, <code>*</code> as the scope, key string and the handle itself:</li><li>Instantiating it in the <code>top.sv</code> , (<code>top_tb.sv</code> in this example)</li></ul><div class="language-system-verilog vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">system-verilog</span><pre class="shiki shiki-themes vitesse-light vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">module</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> top_tb</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  timeunit</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">      1ns</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  timeprecision</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1ps</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#444444;">  `</span><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">uvm_macros.svh</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  import</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> uvm_pkg</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  import</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> top_test_pkg</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  import</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> top_pkg</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">top_config</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  // Configuration object for top-level environment</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  top_config</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> top_env_config</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  // Test harness</span></span>
<span class="line"><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">  top_th</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> th</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">()</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="--shiki-light:#999999;--shiki-dark:#444444;">  `</span><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">backdoor_input_model.sv</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  initial</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  begin</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // Create and populate top-level configuration object</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    top_env_config</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> new</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">top_env_config</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> ( </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">top_env_config</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">randomize</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">() )</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#444444;">      `</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">uvm_error</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">top_tb</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Failed to randomize top-level configuration object</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> )</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    top_env_config</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">arith_vif</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">             =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> th</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">arith_if_0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    top_env_config</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">is_active_arith</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">       =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> UVM_ACTIVE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;   </span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    top_env_config</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">checks_enable_arith</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">   =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;            </span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    top_env_config</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">coverage_enable_arith</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;            </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    uvm_config_db</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> #</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">top_config</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">null</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">uvm_test_top</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">config</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">top_env_config</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    uvm_config_db</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> #</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">top_config</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">null</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">uvm_test_top.m_env</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">config</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">top_env_config</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    run_test</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">();</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">endmodule</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p>Including the packages in the environment (in this case in the agent’s package)</p><div class="language-system-verilog vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">system-verilog</span><pre class="shiki shiki-themes vitesse-light vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">package</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> arith_pkg</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#444444;">  `</span><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">uvm_macros.svh</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  import</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> uvm_pkg</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">	import</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> backdoor_access_pkg</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#444444;">  `</span><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">arith_trans.sv</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#444444;">  `</span><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">arith_config.sv</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#444444;">  `</span><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">arith_driver.sv</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#444444;">  `</span><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">arith_monitor.sv</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#444444;">  `</span><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">arith_sequencer.sv</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#444444;">  `</span><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">arith_coverage.sv</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#444444;">  `</span><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">arith_agent.sv</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#444444;">  `</span><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">arith_seq_lib.sv</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">endpackage</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> :</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> arith_pkg</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>And the remaining is to access the module from the test using the virtual class, by fetching the handle from the <code>uvm_config_db</code> as an <code>uvm_object</code> and cast it to the correct type of the virtual class</p><div class="language-system-verilog vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">system-verilog</span><pre class="shiki shiki-themes vitesse-light vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#444444;">`</span><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;">ifndef</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> TOP_TEST_SV</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#444444;">`</span><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;">define</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> TOP_TEST_SV</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// You can insert code here by setting test_inc_before_class in file common.tpl</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> top_test</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> extends</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> uvm_test</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#444444;">  `</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">uvm_component_utils</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">top_test</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  // Change made here</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  top_env</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> m_env</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  logic</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rand_input</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  // end : Change made here</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  backdoor_access_pkg</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::input_model_backdoor</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> backdoor_im_i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  uvm_object</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> backdoor_object_i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  extern</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> function</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> new</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">string</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">uvm_component</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> parent</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  extern</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> function</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> void</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> build_phase</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">uvm_phase</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> phase</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  extern</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> task</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> run_phase</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">uvm_phase</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> phase</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">endclass</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> :</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> top_test</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">function</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> top_test</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">new</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">string</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">uvm_component</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> parent</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  super</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">new</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">parent</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">endfunction</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> :</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> new</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">function void</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> top_test</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">build_phase</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">uvm_phase</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> phase</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  m_env</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> top_env</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">type_id</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">create</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">m_env</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">this</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  // Fetching the handle from the uvm_config_db and cast it to the correct type</span></span>
<span class="line highlighted"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!uvm_config_db#</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">uvm_object</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">get</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">uvm_root::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">get</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(), </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">IM_BACKDOOR_ACCESS</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">backdoor_object_i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">))   </span></span>
<span class="line highlighted"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  begin</span></span>
<span class="line highlighted"><span style="--shiki-light:#999999;--shiki-dark:#444444;">    `</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">uvm_fatal</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">TEST</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Failed to get input model backdoor access object</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span></span>
<span class="line highlighted"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  end</span></span>
<span class="line highlighted"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  assert</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">$cast</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">backdoor_im_i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">backdoor_object_i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line highlighted"><span style="--shiki-light:#999999;--shiki-dark:#444444;">    `</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">uvm_fatal</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ASSERT</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Dynamic casting backdoor_im_instance failed!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span></span>
<span class="line highlighted"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">endfunction</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> :</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> build_phase</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">task</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> top_test</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">run_phase</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">uvm_phase</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> phase</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  $display</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Went in the run_phase of the test!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  #</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  for</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">int</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> i</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">; </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">i</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 256</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">; </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">++</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    assert</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">randomize</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">rand_input</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">));</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    backdoor_im_i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">insert</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">rand_input</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  end</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  #</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1000</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">endtask</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#444444;">`</span><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;">endif</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // TOP_TEST_SV</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><p>Also remember to compile the <code>.sv</code> file and packages properly. The compiling sequence should be included in the <code>compile_questa.do</code> script.</p><p>The result when running the simulation</p><p><img src="/assets/Untitled%201.Ddz6ZgBb.png" alt="Untitled"></p><p>The result when dumping signals, by adding some signals on <code>top_th.sv</code> and a little addition on <code>top_tb.sv</code> file</p><p><img src="/assets/Untitled%202.D5qFH8PY.png" alt="Untitled"></p><p><img src="/assets/Untitled%203.UC1A8K1d.png" alt="Untitled"></p><p><img src="/assets/Untitled%204.BM0b41hM.png" alt="Untitled"></p><p>This result concludes the ability to manipulate the module that is instantiated on the <code>top</code> from a test component in UVM testbench</p><p>Full testbench can be found <a href="https://github.com/yanaginx/uvm-module-access" target="_blank" rel="noreferrer">here</a>.</p><h2 id="summary" tabindex="-1">Summary <a class="header-anchor" href="#summary" aria-label="Permalink to &quot;Summary&quot;">​</a></h2><ul><li><p>Create a virtual class extending <code>uvm_object</code> (for example <code>VC</code>)</p></li><li><p>Create a wrapper <em>class</em> for the module that extends and implement all the virtual methods of the created virtual class</p><ul><li>Instantiating it in the <code>top.sv</code></li><li>Adding the handle to the <code>uvm_config_db</code> under <code>uvm_root::get()</code> as the parent, <code>*</code> as the scope, key string and the handle itself:</li></ul><div class="language-system-verilog vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">system-verilog</span><pre class="shiki shiki-themes vitesse-light vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">uvm_config_db</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> #</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">uvm_object</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  uvm_root::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">get</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(), </span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">  &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">*</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">  &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&lt;KEY&gt;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">wrapper_handle</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>This will ensure the scope of the statement used to call the <code>top</code>&#39;s instantiated module.</p><p>Meaning the statement <code>top.&lt;module_name&gt;.&lt;method_name&gt;()</code> should be valid.</p></blockquote></li><li><p>The virtual class <code>VC</code> mentioned above will be used for the lower level component in the environment hierarchy for accessing the top instantiated module’s methods.</p></li></ul><!--]--></div></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><div class="edit-info" data-v-e257564d><div class="edit-link" data-v-e257564d><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/yanaginx/yanaginx.github.io/edit/vitepress_ver/docs/blog/posts/uvm-module-access.md" target="_blank" rel="noreferrer" data-v-e257564d><!--[--><span class="vpi-square-pen edit-link-icon" data-v-e257564d></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-e257564d><p class="VPLastUpdated" data-v-e257564d data-v-e98dd255>Last updated: <time datetime="2024-09-30T12:55:33.000Z" data-v-e98dd255></time></p></div></div><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>DV Depot</p><p class="copyright" data-v-e315a0ad>Copyright © 2022-2024 Duong Van</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"blog_authors_duong-van.md\":\"BWEcvAtL\",\"blog_index.md\":\"n5IiJ3Yu\",\"blog_posts_uvm-module-access.md\":\"DnT_vcmy\",\"extras_references.md\":\"LWkSFRre\",\"extras_site-info.md\":\"DewaIkft\",\"index.md\":\"D6ofYaQ0\",\"notes_definitions _ concepts_circuit-and-system-perspective-notes.md\":\"D_14hbbf\",\"notes_intro.md\":\"CkVF8i2m\",\"notes_protocol_fifo_interface.md\":\"BrunVD_V\",\"notes_systemverilog_language-features-note.md\":\"Dk8iUkg1\",\"notes_systemverilog_systemverilog-oop-for-uvm.md\":\"BZJzHCQB\",\"notes_uvm_advanced uvm_architecturing-a-uvm-testbench.md\":\"Di5-92D-\",\"notes_uvm_advanced uvm_how-tlm-works.md\":\"CP8nXJz3\",\"notes_uvm_advanced uvm_layered-sequences.md\":\"U9RNrZfb\",\"notes_uvm_advanced uvm_modeling-transactions.md\":\"DkeWVx0s\",\"notes_uvm_advanced uvm_register-based-testing.md\":\"CGmveS-W\",\"notes_uvm_advanced uvm_setting-up-the-register-layer.md\":\"D6k1VlkY\",\"notes_uvm_advanced uvm_the-proper-care-and-feeding-of-sequences.md\":\"DSZkAzKA\",\"notes_uvm_advanced uvm_understanding-the-factory-and-configuration.md\":\"CN1PVg50\",\"notes_uvm_advanced uvm_using-the-register-layer.md\":\"KibRdLrn\",\"notes_uvm_advanced uvm_writing-and-managing-tests.md\":\"B_A7-5GW\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"DV Depot\",\"description\":\"Casual thoughts, musings and whatever else is on the mind.\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"footer\":{\"message\":\"DV Depot\",\"copyright\":\"Copyright © 2022-2024 Duong Van\"},\"editLink\":{\"pattern\":\"https://github.com/yanaginx/yanaginx.github.io/edit/vitepress_ver/docs/:path\",\"text\":\"Edit this page on GitHub\"},\"nav\":[{\"text\":\"Notes\",\"link\":\"/notes/intro\",\"activeMatch\":\"/notes/\"},{\"text\":\"Blogs\",\"link\":\"/blog/\",\"activeMatch\":\"/blog/\"},{\"text\":\"Extras\",\"items\":[{\"text\":\"About\",\"link\":\"/extras/site-info\"},{\"text\":\"References\",\"link\":\"/extras/references\"}]}],\"sidebar\":[{\"text\":\"Notes\",\"items\":[{\"text\":\"Definitions & Concepts\",\"items\":[{\"text\":\"A Circuit and Systems Perspective notes\",\"link\":\"/notes/Definitions & Concepts/circuit-and-system-perspective-notes\"}],\"collapsed\":true},{\"text\":\"Protocol\",\"items\":[{\"text\":\"FIFO interface (ready/valid)\",\"link\":\"/notes/Protocol/fifo_interface\"}],\"collapsed\":true},{\"text\":\"SystemVerilog\",\"items\":[{\"text\":\"Language features note\",\"link\":\"/notes/SystemVerilog/language-features-note\"},{\"text\":\"SystemVerilog OOP for UVM\",\"link\":\"/notes/SystemVerilog/systemverilog-oop-for-uvm\"}],\"collapsed\":true},{\"text\":\"UVM\",\"items\":[{\"text\":\"Advanced UVM\",\"items\":[{\"text\":\"Architecting a UVM Testbench\",\"link\":\"/notes/UVM/Advanced UVM/architecturing-a-uvm-testbench\"},{\"text\":\"How TLM Works\",\"link\":\"/notes/UVM/Advanced UVM/how-tlm-works\"},{\"text\":\"Layered Sequences\",\"link\":\"/notes/UVM/Advanced UVM/layered-sequences\"},{\"text\":\"Modeling transactions\",\"link\":\"/notes/UVM/Advanced UVM/modeling-transactions\"},{\"text\":\"Register-Based Testing\",\"link\":\"/notes/UVM/Advanced UVM/register-based-testing\"},{\"text\":\"Setting up the Register Layer\",\"link\":\"/notes/UVM/Advanced UVM/setting-up-the-register-layer\"},{\"text\":\"The Proper Care and Feeding of Sequences\",\"link\":\"/notes/UVM/Advanced UVM/the-proper-care-and-feeding-of-sequences\"},{\"text\":\"Understanding the Factory and Configuration\",\"link\":\"/notes/UVM/Advanced UVM/understanding-the-factory-and-configuration\"},{\"text\":\"Using the Register Layer\",\"link\":\"/notes/UVM/Advanced UVM/using-the-register-layer\"},{\"text\":\"Writing and managing Tests\",\"link\":\"/notes/UVM/Advanced UVM/writing-and-managing-tests\"}],\"collapsed\":true}],\"collapsed\":true},{\"text\":\"Getting started\",\"link\":\"/notes/intro\"}],\"collapsed\":true}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/yanaginx/yanaginx.github.io\"}],\"search\":{\"provider\":\"local\"},\"blog\":{\"title\":\"The Blogs\",\"description\":\"Random thought and implementation on the go.\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>