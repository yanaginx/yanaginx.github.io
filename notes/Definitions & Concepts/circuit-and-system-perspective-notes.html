<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>A Circuit and Systems Perspective notes | DV Depot</title>
    <meta name="description" content="Casual thoughts, musings and whatever else is on the mind.">
    <meta name="generator" content="VitePress v1.3.4">
    <link rel="preload stylesheet" href="/assets/style.DReofdp_.css" as="style">
    
    <script type="module" src="/assets/app.BnkljH9f.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BLlGvO2X.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CbP2pKAi.js">
    <link rel="modulepreload" href="/assets/notes_Definitions _ Concepts_circuit-and-system-perspective-notes.md.D_14hbbf.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-ab179fa1><a class="title" href="/" data-v-ab179fa1><!--[--><!--]--><!----><span data-v-ab179fa1>DV Depot</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/notes/intro.html" tabindex="0" data-v-dc692963 data-v-9c663999><!--[--><span data-v-9c663999>Notes</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/" tabindex="0" data-v-dc692963 data-v-9c663999><!--[--><span data-v-9c663999>Blogs</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>Extras</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/extras/site-info.html" data-v-43f1e123><!--[-->About<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/extras/references.html" data-v-43f1e123><!--[-->References<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/yanaginx/yanaginx.github.io" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/yanaginx/yanaginx.github.io" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed has-active" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>Notes</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><section class="VPSidebarItem level-1 collapsible collapsed has-active" data-v-b7550ba0 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h3 class="text" data-v-b7550ba0>Definitions & Concepts</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/Definitions%20&amp;%20Concepts/circuit-and-system-perspective-notes.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>A Circuit and Systems Perspective notes</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b7550ba0 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h3 class="text" data-v-b7550ba0>Protocol</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/Protocol/fifo_interface.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>FIFO interface (ready/valid)</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b7550ba0 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h3 class="text" data-v-b7550ba0>SystemVerilog</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/SystemVerilog/language-features-note.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Language features note</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/SystemVerilog/systemverilog-oop-for-uvm.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>SystemVerilog OOP for UVM</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b7550ba0 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h3 class="text" data-v-b7550ba0>UVM</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><section class="VPSidebarItem level-2 collapsible collapsed" data-v-b7550ba0 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h4 class="text" data-v-b7550ba0>Advanced UVM</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/architecturing-a-uvm-testbench.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Architecting a UVM Testbench</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/how-tlm-works.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>How TLM Works</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/layered-sequences.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Layered Sequences</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/modeling-transactions.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Modeling transactions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/register-based-testing.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Register-Based Testing</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/setting-up-the-register-layer.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Setting up the Register Layer</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/the-proper-care-and-feeding-of-sequences.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>The Proper Care and Feeding of Sequences</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/understanding-the-factory-and-configuration.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Understanding the Factory and Configuration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/using-the-register-layer.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Using the Register Layer</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/writing-and-managing-tests.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Writing and managing Tests</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/intro.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Getting started</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _notes_Definitions%20&amp;%20Concepts_circuit-and-system-perspective-notes" data-v-39a288b8><div><h1 id="a-circuit-and-systems-perspective-notes" tabindex="-1">A Circuit and Systems Perspective notes <a class="header-anchor" href="#a-circuit-and-systems-perspective-notes" aria-label="Permalink to &quot;A Circuit and Systems Perspective notes&quot;">​</a></h1><blockquote><p>All figures and some content are taken and quoted, respectively, from the “<em>A Circuit and Systems Perspective</em>” textbook</p></blockquote><h2 id="delay-definitions" tabindex="-1">Delay definitions <a class="header-anchor" href="#delay-definitions" aria-label="Permalink to &quot;Delay definitions&quot;">​</a></h2><ul><li><em>Propagation delay time</em>, $t_{pd}$ = maximum time from the input crossing 50% to the output crossing 50%</li><li><em>Contamination delay time</em>, $t_{cd}$ = minimum time from the input crossing 50% to the output crossing 50%</li><li><em>Rise time,</em> $t_r$ = time for a waveform to rise from 20% to 80% of its steady-state value</li><li><em>Fall time,</em> $t_f$ = time for a waveform to fall from 80% to 20% of its steady-state value</li><li><em>Edge rate</em>, $t_{rf} = (t_r + t_f) /2$</li></ul><p><img src="/assets/Untitled.DBaMVTEI.png" alt="Untitled"></p><p>When an input changes, the output will retain its old value for at least the contamination delay and take the new value in at most the propagation delay.</p><p>Propagation delay and contamination delay times are also called <em>max-time</em> and <em>min-time</em>, respectively.</p><p>Propagation delay is usually the most relevant value of interest, and is often simply called <em>delay.</em></p><h2 id="sequential-and-combination-circuit" tabindex="-1">Sequential and combination circuit <a class="header-anchor" href="#sequential-and-combination-circuit" aria-label="Permalink to &quot;Sequential and combination circuit&quot;">​</a></h2><p><em>Combinational</em> circuit: Output is a function of the current input</p><p><em>Sequential</em> circuit: Output depends on previous as well as current inputs; such circuits are said to have <em>state</em>.</p><blockquote><p><em>Sequential</em> circuits are usually designed with flip-flops or latches, which are sometimes called <em>memory elements</em>, that hold data called <em>tokens.</em></p></blockquote><h2 id="sequencing-static-circuits" tabindex="-1">Sequencing static circuits <a class="header-anchor" href="#sequencing-static-circuits" aria-label="Permalink to &quot;Sequencing static circuits&quot;">​</a></h2><p><em>Latches</em> and <em>flip-flops</em> are the most commonly used sequencing elements.</p><p><img src="/assets/Untitled%201.CGJU1hst.png" alt="Untitled"></p><h3 id="sequencing-methods" tabindex="-1">Sequencing methods <a class="header-anchor" href="#sequencing-methods" aria-label="Permalink to &quot;Sequencing methods&quot;">​</a></h3><p>The below figures illustrating 3 methods of sequencing blocks of combinational logic. $T_c$ is clock period. In a 2-phase system, the phases maybe separated by the $t_{nonoverlap}$. In pulsed system, the pulse width is $t_{pw}$</p><p><img src="/assets/Untitled%202.B2FvirJI.png" alt="Untitled"></p><p>Flip-flop-based systems use one flip-flop on each cycle boundary. Tokens advance from one cycle to the next on the rising edge. If a token arrives too early, it waits at the flip-flop until the next cycle.</p><p>When the flip-flop is viewed as back-to-back pair of latches, if we separate the latches, the full cycle of combinational logic can be divided into 2 phases (half-cycle). 2 latch clocks are called $\phi_1$ and $\phi_2$. The clocks can also be corresponded to nonoverlapping time ($t_{nonoverlapping}$ &gt; 0).</p><p>At least one clock is low and the coressponding latch is opaque → Preventing one token from catching up with other.</p><p>Pulsed latch systems eliminate one of the latches from each cycle and apply a brief pulse to the remaining latch. If the pulse is shorter than the delay through the combinational logic, we can still expect that a token will only advance through one clock cycle on each pulse.</p><p><strong>Delays and timing constraints of the combinational logic and the sequencing elements</strong></p><table tabindex="0"><thead><tr><th>Term</th><th>Name</th></tr></thead><tbody><tr><td>$t_{pd}$</td><td>Logic Propagation delay</td></tr><tr><td>$t_{cd}$</td><td>Logic Contamination delay</td></tr><tr><td>$t_{pcq}$</td><td>Latch/Flop Clock-to-Q Propagation delay</td></tr><tr><td>$t_{ccq}$</td><td>Latch/Flop Clock-to-Q Contamination delay</td></tr><tr><td>$t_{pdq}$</td><td>Latch D-to-Q Propagation delay</td></tr><tr><td>$t_{cdq}$</td><td>Latch D-to-Q Contamination delay</td></tr><tr><td>$t_{setup}$</td><td>Latch/Flop Setup time</td></tr><tr><td>$t_{hold}$</td><td>Latch/Flop Hold time</td></tr></tbody></table><p><img src="/assets/Untitled%203.EeDtqNmp.png" alt="Untitled"></p><ul><li>(a): <ul><li>The output Y doesn’t change instantaneously.</li><li>After the contamination delay $t_{cd}$, Y may begin to change or glitched</li><li>After the propagation delay $t_{pd}$, Y must have settled to the final value.</li></ul></li><li>(b): <ul><li>The input D must have settled by some <em>setup</em> <em>time</em> $t_{setup}$ before the rising edge of <em>clk</em> and should not change until a <em>hold time</em> $t_{hold}$ *after the clock edge.</li><li>The output Q begins to change after a <em>clock-to-Q contamination delay</em> $t_{ccq}$ and completely settles to the valid D value after a <em>clock-to-Q propagation delay</em> $t_{pcq}$<strong>.</strong></li></ul></li><li>(c): <ul><li>The input D must setup and hold around the falling edge that defines the end of the sampling period.</li><li>The output initially started to change after $t_{ccq}$, when the latch becomes transparent on the rising edge of the clock, and settles to input value after $t_{pcq}$.</li><li>If the input changed during the transparent state of the latch (i.e., <em>clk</em> is still asserted), the output will continue to track and reflect the input value after some <em>D-to-Q</em> delay $t_{cdq}$ and $t_{pdq}$.</li></ul></li></ul><blockquote><p>Negative hold time: The input can change before the clock edge and nevertheless the old level will be correctly recognized. → This can be produced by internal delay of the clock signal</p></blockquote><h3 id="max-delay-constraints" tabindex="-1">Max-delay constraints <a class="header-anchor" href="#max-delay-constraints" aria-label="Permalink to &quot;Max-delay constraints&quot;">​</a></h3><p>Assuming ideal clocks with no skew:</p><p><em>Flip-flop</em></p><p><img src="/assets/Untitled%204.G-hRW4Ej.png" alt="Untitled"></p><p>$$ T_{c} \geq t_{pcq_{F1}} + t_{pd_{comb \space logic}} + t_{setup_{F2}} $$</p><p>With this, the maximum allowable combinational logic delay:</p><p>$$ t_{pd_{comb\space logic}} \leq T_c - (t_{setup_{F2}} + t_{pcq_{F1}}) $$</p><blockquote><p>Since <em>F1</em> and <em>F2</em> flip-flop is the same (assuming), the $t_{setup}$ and $t_{pcq}$ for both F1 and F2 is the same</p></blockquote><p>$$ t_{pd} \leq T_c - \underbrace{(t_{setup} + t_{pcq})}_{sequencing \space overhead} $$</p><p><em>2-phase latch</em></p><p><img src="/assets/Untitled%205.DmYt9mI6.png" alt="Untitled"></p><p>$$ T_c \geq t_{pdq_1} + t_{pd_1} + t_{pdq_2} + t_{pd_2} $$</p><p>With this, the maximum allowable combinational logic delay</p><p>$$ t_{pd} = t_{pd1} + t_{pd2} \leq T_c - \underbrace{(2t_{pdq})}_{sequencing \space overhead} $$</p><p><em>Pulsed latch</em></p><p>Only one latch is in the critical path in the pulsed latches cases. If the pulse is narrower than the setup time, the data must be setup before the pulse rises.</p><p><img src="/assets/Untitled%206.CGiNZWvj.png" alt="Untitled"></p><p>$$ T_c \geq \max (t_{pdq} + t_{pd}, t_{pcq} + t_{pd} + t_{setup} - t_{pw}) $$</p><p>Solving the maximum combinational logic delay:</p><p>$$ t_{pd} \leq T_c - \underbrace{\max(t_{pdq}, t_{pcq}+t_{setup}-t_{pw})}_{sequencing \space overhead} $$</p><h3 id="min-delay-constraints" tabindex="-1">Min-delay constraints <a class="header-anchor" href="#min-delay-constraints" aria-label="Permalink to &quot;Min-delay constraints&quot;">​</a></h3><p>Ideally, sequencing elements can be placed back-to-back without intervening the combinational logic and still function correctly.</p><p>If the hold time is large and the contamination delay is small → data can incorrectly propagate through 2 successive elements in one clock edge → corrupting the state of the system.</p><p>⇒ This is called <em>race condition</em>, <em>hold-time failure</em>, or <em>min-delay failure.</em></p><p>Assuming the ideal clock is not skew:</p><p><em>Flip-flop</em></p><p><img src="/assets/Untitled%207.CrbeB5uo.png" alt="Untitled"></p><p>The data can begin to change at <em>Q1</em> after a <em>clk-to-Q</em> contamination delay, and at <em>D2</em> after another contamination logic delay. However, the changes must not reach D2 at least $t_{hold}$ after the rise of clock edge (since the previous data is transmitting on D2, haven’t yet sampled at F2)</p><p>$$ t_{hold} \leq t_{ccq} + t_{cd} $$</p><p>Hence, we solve the minimum logic contamination delay</p><p>$$ t_{cd} \geq t_{hold} - t_{ccq} $$</p><p>If the contamination delay through the flip-flop exceeds the hold time, back-to-back flip-flops can safely be used. If not:</p><ul><li>Delay must be explicitly added between the flip-flops (e.g., with a buffer)</li><li>Specical slow flip-flops with contamination delay greater than the contamination delay on the paths that require back-to-back flops.</li></ul><p><em>2-phase latches</em></p><p><img src="/assets/Untitled%208.CxZ0CKm6.png" alt="Untitled"></p><p>The data begins to pass through <em>L1</em> on the rising edge of $\phi_1$. It must not reach <em>L2</em> until a hold time after the previous failing edge of $\phi_2$ because <em>L2</em> must become safely opaque (deassert) before <em>L1</em> becomes transparent.</p><p>Since the clock edges are separated by $t_{nonoverlap}$, the minimum logic contamination delay through each phase of logic is</p><p>$$ t_{cd_1}, t_{cd_2} \geq t_{hold} - t_{ccq} - t_{nonoverlap} $$</p><p>⇒ By making the $t_{nonoverlap}$ sufficiently large, hold-time failure can be avoided entirely.</p><p>However, generating and distributing nonoverlapping clocks is challenging at high speeds. Therefore, most commercial transparent latch-based systems use the clock and its complement. In this case, $t_{nonoverlap}$ = 0 and the contamination delay constraint is the same as the constraint for the flip-flop.</p><p>The contamination delay constraint applies to each phase of the logic for latch-based system, but to the entire cycle of logic for flip-flops.</p><p>→ Seems like the latches required twice the overall logic contamination delay as compared to flip-flops (a paradox).</p><p>⇒ Since the flip-flop can be seen and built as a pair of latches, the mentioned paradox is resolved by observing that a flip-flop has an internal race condition between the 2 latches.</p><p><em>Pulsed latch</em></p><p><img src="/assets/Untitled%209.Cos9M29E.png" alt="Untitled"></p><p>Data changes on the rising edge of the pulse but must hold until after the falling edge of the pulse → Pulse width effectively increases the hold time of the pulsed latch as compared to a flip-flop</p><p>$$ t_{cd} \geq t_{hold} - t_{ccq} + t_{pw} $$</p><h3 id="time-borrowing" tabindex="-1">Time borrowing <a class="header-anchor" href="#time-borrowing" aria-label="Permalink to &quot;Time borrowing&quot;">​</a></h3><p>In system using flip-flops, data departs the first flop on the rising edge of the clock and must be set up at the second flop before the next rising edge of the clock.</p><ul><li>Data arrives late: Circuit provides wrong result</li><li>Data arrives early: It is blocked until the clock edge, and the remaining time goes unused.</li></ul><p>→ The clock imposes a <em>hard edge</em> because it sharply describe the cycles</p><p>In system using transparent latches, the data can depart from the first latch on the rising edge of the clock, but does not have to set up until the falling edge of the clock on the receiving latch.</p><p>If one half-cycle or stage of a pipeline has too much logic, it can borrow time into the next half-cycle or stage. <em>Time borrowing</em> can accumulate across multiple cycles.</p><p><img src="/assets/Untitled%2010.CXn2hNOL.png" alt="Untitled"></p><p>In system with feedback, the long delays must be balanced by shorter delays so that the overall loop completes in the time available.</p><p>One phase can borrow up to half a cycle of time from the next (less setup time and non-overlap) since data does not have to set up until the falling edge of the receiving latch’s clock.</p><p>$$ t_{borrow} \leq \frac{T_c}{2} - (t_{setup} + t_{nonoverlap}) $$</p><p><img src="/assets/Untitled%2011.CflGvfeb.png" alt="Untitled"></p><h3 id="clock-skew" tabindex="-1">Clock skew <a class="header-anchor" href="#clock-skew" aria-label="Permalink to &quot;Clock skew&quot;">​</a></h3><p>In reality, clocks have some uncertainty in their arrival times that can cut into the time available for useful computation.</p><p>The bold line: indicate the latest possible clock arrival time</p><p>The hashed line: show the clock might arrive over a range of earlier times because of the skew.</p><p><img src="/assets/Untitled%2012.tMBwB_oZ.png" alt="Untitled"></p><p>The worst case scenario for max delay in a flip-flop-based system is that the launching flop receives its clock late and the receiving flop recieves its clock early (Figure 10.15 (a))</p><p>→ The clock skew is subtracted from the time available for useful compuation and appears as sequencing overhead.</p><p>$$ t_{pd} \leq T_c - \underbrace{(t_{pcq} + t_{skew} + t_{setup})}_{sequencing \space overhead} $$</p><p>The worst case scenario for min delay is the launching flop receives its clock early and the receiving flop receives its clock late</p><p>→ The clock skew effectively increases the hold time of the system.</p><p>$$ t_{cd} \geq t_{hold} - t_{ccq} + t_{skew} $$</p><h2 id="resources" tabindex="-1">Resources <a class="header-anchor" href="#resources" aria-label="Permalink to &quot;Resources&quot;">​</a></h2><p>Weste, N., Harris, D., &amp; Design, C. V. (2011). A Circuit and Systems Perspective. <em>International Edition</em>.</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><div class="edit-info" data-v-e257564d><div class="edit-link" data-v-e257564d><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/yanaginx/yanaginx.github.io/edit/vitepress_ver/docs/notes/Definitions &amp; Concepts/circuit-and-system-perspective-notes.md" target="_blank" rel="noreferrer" data-v-e257564d><!--[--><span class="vpi-square-pen edit-link-icon" data-v-e257564d></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-e257564d><p class="VPLastUpdated" data-v-e257564d data-v-e98dd255>Last updated: <time datetime="2024-09-28T12:27:23.000Z" data-v-e98dd255></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><!----></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/notes/Protocol/fifo_interface.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>FIFO interface (ready/valid)</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>DV Depot</p><p class="copyright" data-v-e315a0ad>Copyright © 2022-2024 Duong Van</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"blog_authors_duong-van.md\":\"BWEcvAtL\",\"blog_index.md\":\"n5IiJ3Yu\",\"blog_posts_uvm-module-access.md\":\"DnT_vcmy\",\"extras_references.md\":\"LWkSFRre\",\"extras_site-info.md\":\"DewaIkft\",\"index.md\":\"D6ofYaQ0\",\"notes_definitions _ concepts_circuit-and-system-perspective-notes.md\":\"D_14hbbf\",\"notes_intro.md\":\"CkVF8i2m\",\"notes_protocol_fifo_interface.md\":\"BrunVD_V\",\"notes_systemverilog_language-features-note.md\":\"Dk8iUkg1\",\"notes_systemverilog_systemverilog-oop-for-uvm.md\":\"BZJzHCQB\",\"notes_uvm_advanced uvm_architecturing-a-uvm-testbench.md\":\"Di5-92D-\",\"notes_uvm_advanced uvm_how-tlm-works.md\":\"CP8nXJz3\",\"notes_uvm_advanced uvm_layered-sequences.md\":\"U9RNrZfb\",\"notes_uvm_advanced uvm_modeling-transactions.md\":\"DkeWVx0s\",\"notes_uvm_advanced uvm_register-based-testing.md\":\"CGmveS-W\",\"notes_uvm_advanced uvm_setting-up-the-register-layer.md\":\"D6k1VlkY\",\"notes_uvm_advanced uvm_the-proper-care-and-feeding-of-sequences.md\":\"DSZkAzKA\",\"notes_uvm_advanced uvm_understanding-the-factory-and-configuration.md\":\"CN1PVg50\",\"notes_uvm_advanced uvm_using-the-register-layer.md\":\"KibRdLrn\",\"notes_uvm_advanced uvm_writing-and-managing-tests.md\":\"B_A7-5GW\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"DV Depot\",\"description\":\"Casual thoughts, musings and whatever else is on the mind.\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"footer\":{\"message\":\"DV Depot\",\"copyright\":\"Copyright © 2022-2024 Duong Van\"},\"editLink\":{\"pattern\":\"https://github.com/yanaginx/yanaginx.github.io/edit/vitepress_ver/docs/:path\",\"text\":\"Edit this page on GitHub\"},\"nav\":[{\"text\":\"Notes\",\"link\":\"/notes/intro\",\"activeMatch\":\"/notes/\"},{\"text\":\"Blogs\",\"link\":\"/blog/\",\"activeMatch\":\"/blog/\"},{\"text\":\"Extras\",\"items\":[{\"text\":\"About\",\"link\":\"/extras/site-info\"},{\"text\":\"References\",\"link\":\"/extras/references\"}]}],\"sidebar\":[{\"text\":\"Notes\",\"items\":[{\"text\":\"Definitions & Concepts\",\"items\":[{\"text\":\"A Circuit and Systems Perspective notes\",\"link\":\"/notes/Definitions & Concepts/circuit-and-system-perspective-notes\"}],\"collapsed\":true},{\"text\":\"Protocol\",\"items\":[{\"text\":\"FIFO interface (ready/valid)\",\"link\":\"/notes/Protocol/fifo_interface\"}],\"collapsed\":true},{\"text\":\"SystemVerilog\",\"items\":[{\"text\":\"Language features note\",\"link\":\"/notes/SystemVerilog/language-features-note\"},{\"text\":\"SystemVerilog OOP for UVM\",\"link\":\"/notes/SystemVerilog/systemverilog-oop-for-uvm\"}],\"collapsed\":true},{\"text\":\"UVM\",\"items\":[{\"text\":\"Advanced UVM\",\"items\":[{\"text\":\"Architecting a UVM Testbench\",\"link\":\"/notes/UVM/Advanced UVM/architecturing-a-uvm-testbench\"},{\"text\":\"How TLM Works\",\"link\":\"/notes/UVM/Advanced UVM/how-tlm-works\"},{\"text\":\"Layered Sequences\",\"link\":\"/notes/UVM/Advanced UVM/layered-sequences\"},{\"text\":\"Modeling transactions\",\"link\":\"/notes/UVM/Advanced UVM/modeling-transactions\"},{\"text\":\"Register-Based Testing\",\"link\":\"/notes/UVM/Advanced UVM/register-based-testing\"},{\"text\":\"Setting up the Register Layer\",\"link\":\"/notes/UVM/Advanced UVM/setting-up-the-register-layer\"},{\"text\":\"The Proper Care and Feeding of Sequences\",\"link\":\"/notes/UVM/Advanced UVM/the-proper-care-and-feeding-of-sequences\"},{\"text\":\"Understanding the Factory and Configuration\",\"link\":\"/notes/UVM/Advanced UVM/understanding-the-factory-and-configuration\"},{\"text\":\"Using the Register Layer\",\"link\":\"/notes/UVM/Advanced UVM/using-the-register-layer\"},{\"text\":\"Writing and managing Tests\",\"link\":\"/notes/UVM/Advanced UVM/writing-and-managing-tests\"}],\"collapsed\":true}],\"collapsed\":true},{\"text\":\"Getting started\",\"link\":\"/notes/intro\"}],\"collapsed\":true}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/yanaginx/yanaginx.github.io\"}],\"search\":{\"provider\":\"local\"},\"blog\":{\"title\":\"The Blogs\",\"description\":\"Random thought and implementation on the go.\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>