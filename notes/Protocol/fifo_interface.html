<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>FIFO interface (ready/valid) | DV Depot</title>
    <meta name="description" content="Casual thoughts, musings and whatever else is on the mind.">
    <meta name="generator" content="VitePress v1.3.4">
    <link rel="preload stylesheet" href="/assets/style.DReofdp_.css" as="style">
    
    <script type="module" src="/assets/app.BnkljH9f.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BLlGvO2X.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CbP2pKAi.js">
    <link rel="modulepreload" href="/assets/notes_Protocol_fifo_interface.md.BrunVD_V.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-ab179fa1><a class="title" href="/" data-v-ab179fa1><!--[--><!--]--><!----><span data-v-ab179fa1>DV Depot</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/notes/intro.html" tabindex="0" data-v-dc692963 data-v-9c663999><!--[--><span data-v-9c663999>Notes</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/" tabindex="0" data-v-dc692963 data-v-9c663999><!--[--><span data-v-9c663999>Blogs</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>Extras</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/extras/site-info.html" data-v-43f1e123><!--[-->About<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/extras/references.html" data-v-43f1e123><!--[-->References<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/yanaginx/yanaginx.github.io" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/yanaginx/yanaginx.github.io" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed has-active" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>Notes</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b7550ba0 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h3 class="text" data-v-b7550ba0>Definitions & Concepts</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/Definitions%20&amp;%20Concepts/circuit-and-system-perspective-notes.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>A Circuit and Systems Perspective notes</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed has-active" data-v-b7550ba0 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h3 class="text" data-v-b7550ba0>Protocol</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/Protocol/fifo_interface.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>FIFO interface (ready/valid)</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b7550ba0 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h3 class="text" data-v-b7550ba0>SystemVerilog</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/SystemVerilog/language-features-note.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Language features note</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/SystemVerilog/systemverilog-oop-for-uvm.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>SystemVerilog OOP for UVM</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b7550ba0 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h3 class="text" data-v-b7550ba0>UVM</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><section class="VPSidebarItem level-2 collapsible collapsed" data-v-b7550ba0 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h4 class="text" data-v-b7550ba0>Advanced UVM</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/architecturing-a-uvm-testbench.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Architecting a UVM Testbench</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/how-tlm-works.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>How TLM Works</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/layered-sequences.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Layered Sequences</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/modeling-transactions.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Modeling transactions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/register-based-testing.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Register-Based Testing</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/setting-up-the-register-layer.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Setting up the Register Layer</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/the-proper-care-and-feeding-of-sequences.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>The Proper Care and Feeding of Sequences</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/understanding-the-factory-and-configuration.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Understanding the Factory and Configuration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/using-the-register-layer.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Using the Register Layer</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/UVM/Advanced%20UVM/writing-and-managing-tests.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Writing and managing Tests</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/notes/intro.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Getting started</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _notes_Protocol_fifo_interface" data-v-39a288b8><div><h1 id="fifo-interface-ready-valid" tabindex="-1">FIFO interface (ready/valid) <a class="header-anchor" href="#fifo-interface-ready-valid" aria-label="Permalink to &quot;FIFO interface (ready/valid)&quot;">​</a></h1><h2 id="the-fifo-interface" tabindex="-1">The FIFO interface <a class="header-anchor" href="#the-fifo-interface" aria-label="Permalink to &quot;The FIFO interface&quot;">​</a></h2><p><img src="data:image/png;base64,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" alt="Untitled"></p><p>Data is the wire that actually passes data from the transmitter to the Receiver.</p><p>Valid and Ready are known as handshaking signals which allow the Transmitter and the Receiver to communicate with regards to when it is time to pass the data.</p><p>The Valid signal (output from the Transmitter and input to the Receiver) indicates that the Transmitter has put valid data on the Data line <em>this</em> cycle.</p><p>The Ready signal (output from the Receiver and input to the Transmitter) indicates that the Receiver is ready to receive new data. Ready can be asserted as soon as the Receiver is ready to receive new data.</p><h2 id="state-machine" tabindex="-1">State machine <a class="header-anchor" href="#state-machine" aria-label="Permalink to &quot;State machine&quot;">​</a></h2><p><img src="/assets/Untitled%201.MbByM_vE.png" alt="Untitled"></p><p>This state machine indicates once the transmitter assert the <code>vld</code> or the receiver assert the <code>rdy</code> signal, these signals must hold until their counterpart assert</p><h2 id="the-handshake-and-data-transfer" tabindex="-1">The handshake and data transfer <a class="header-anchor" href="#the-handshake-and-data-transfer" aria-label="Permalink to &quot;The handshake and data transfer&quot;">​</a></h2><p>The FIFO Interface handshake ensures that data passes from the source to the sink only when the source has valid data to pass and when the sink is ready to receive that data.</p><p><img src="/assets/Untitled%202.Czp5KboS.png" alt="Untitled"></p><h3 id="example-waveform-explanation" tabindex="-1">Example waveform explanation <a class="header-anchor" href="#example-waveform-explanation" aria-label="Permalink to &quot;Example waveform explanation&quot;">​</a></h3><p><img src="/assets/Untitled%203.CVi_Rb0a.png" alt="Untitled"></p><p>The positive clock edge marked with arrow indicating the transfer of the data is made (i.e. the handshake occurs) at the beginning of clock cycle 3, 5, 6 and 7 as demonstrated in Figure 1</p><h2 id="sample-code-snippet-and-sample-waveform" tabindex="-1">Sample code snippet and sample waveform <a class="header-anchor" href="#sample-code-snippet-and-sample-waveform" aria-label="Permalink to &quot;Sample code snippet and sample waveform&quot;">​</a></h2><h3 id="transmitter" tabindex="-1">Transmitter <a class="header-anchor" href="#transmitter" aria-label="Permalink to &quot;Transmitter&quot;">​</a></h3><div class="language-system-verilog vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">system-verilog</span><pre class="shiki shiki-themes vitesse-light vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">module</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> transmitter</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  input</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> clk</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  input</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rst_n</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  output</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> vld</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  output</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  input</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rdy</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  reg</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> next_vld</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  reg</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> next_data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  reg</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> hold_data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  reg</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> reg_vld</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  reg</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> reg_data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  logic</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> sent_data</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">[</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">$</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  typedef</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> enum</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> {</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">IDLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">WAIT_RDY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">WAIT_VLD</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">TRANSFER</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">}</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ff_state</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  ff_state</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> current_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> IDLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  ff_state</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">    =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> IDLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  always</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> @</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    case</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">current_state</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">      IDLE</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">reg_vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> WAIT_RDY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">reg_vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> WAIT_VLD</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">reg_vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> TRANSFER</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> current_state</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">      </span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">      WAIT_RDY</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">reg_vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> TRANSFER</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> current_state</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">      </span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">      WAIT_VLD</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">reg_vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> TRANSFER</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> current_state</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">        </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">      </span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">      TRANSFER</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">reg_vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> WAIT_RDY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">reg_vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> WAIT_VLD</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">reg_vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> IDLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> current_state</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">        </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">      </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    endcase</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">    </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  always</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> @</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">posedge</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> clk</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> or</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> negedge</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rst_n</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">    </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // Next state here is the previous state from the previous cycle</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    $display</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[DEBUG </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">%d</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">] next_vld: </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">%d</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">, next_state: </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">%d</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">, current_state: </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">%d</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">$time</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">next_vld</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">next_state</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">current_state</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">    </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">rst_n</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      current_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> &lt;=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> IDLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      reg_vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> &lt;=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      reg_data</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> &lt;=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      current_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> &lt;=</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> next_state</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">      </span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      next_vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> $urandom</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">      </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">next_vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> next_state</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> !</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> WAIT_RDY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        // Send next_data on the next cycle</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        next_data</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> $urandom_range</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        hold_data</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> next_data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        sent_data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">push_back</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">next_data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> WAIT_RDY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        next_data</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> hold_data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        next_data</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">      </span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      reg_vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> &lt;=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> #</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> WAIT_RDY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">?</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> :</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> next_vld</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      reg_data</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> &lt;=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> #</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> next_data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    end</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  assign</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> reg_vld</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  assign</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> reg_data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">endmodule</span></span></code></pre></div><h3 id="receiver" tabindex="-1">Receiver <a class="header-anchor" href="#receiver" aria-label="Permalink to &quot;Receiver&quot;">​</a></h3><div class="language-system-verilog vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">system-verilog</span><pre class="shiki shiki-themes vitesse-light vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">module</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> receiver</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  input</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> clk</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  input</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rst_n</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  input</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> vld</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  input</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  output</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rdy</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  reg</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> next_rdy</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  reg</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> reg_rdy</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  logic</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> received_data</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">[</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">$</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">  </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  reg</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> no_random</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  typedef</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> enum</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> {</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">IDLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">WAIT_RDY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">WAIT_VLD</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">TRANSFER</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">}</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ff_state</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  ff_state</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> current_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> IDLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  ff_state</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">    =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> IDLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  always</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> @</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    case</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">current_state</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">      IDLE</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      	no_random</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">        </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">reg_rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> WAIT_VLD</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">reg_rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> WAIT_RDY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">reg_rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> TRANSFER</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> current_state</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">      </span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">      WAIT_VLD</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        no_random</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">reg_rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> TRANSFER</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> current_state</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">      </span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">      WAIT_RDY</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">		no_random</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">reg_rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> TRANSFER</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> current_state</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">        </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">      </span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">      TRANSFER</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">        </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">reg_rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> WAIT_VLD</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">reg_rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> WAIT_RDY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">reg_rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> vld</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> IDLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">          next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> current_state</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">        </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">      </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    endcase</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">    </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  always</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> @</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">posedge</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> clk</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> or</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> negedge</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rst_n</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    $display</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[DEBUG </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">%d</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">] current data: </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">%d</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">, current_state: </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">%d</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">, next_state: </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">%d</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">$time</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">current_state</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">next_state</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">    </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> TRANSFER</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      // Sample the data</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      $display</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[DEBUG </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">%0t</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">] pushing </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">%d</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> data value</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">$time</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      received_data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">push_back</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">    </span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">    </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">rst_n</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      reg_rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> &lt;=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      current_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> &lt;=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> #</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.1</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> IDLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    end</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      reg_rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> &lt;=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> #</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">next_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> ==</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> WAIT_VLD</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">?</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> :</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> $urandom</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      current_state</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> &lt;=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> #</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> next_state</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    end</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  assign</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rdy</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> reg_rdy</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">endmodule</span></span></code></pre></div><h3 id="testbench" tabindex="-1">Testbench <a class="header-anchor" href="#testbench" aria-label="Permalink to &quot;Testbench&quot;">​</a></h3><div class="language-system-verilog vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">system-verilog</span><pre class="shiki shiki-themes vitesse-light vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">module</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> test_top</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  reg</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> _clk</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  reg</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> _rst_n</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">  </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  wire</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> _data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  wire</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> _vld</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  wire</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> _rdy</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">  </span></span>
<span class="line"><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">  transmitter</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> tx</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">_clk</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">_rst_n</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">_vld</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">_data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">_rdy</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">  receiver</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rx</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">_clk</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">_rst_n</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">_vld</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">_data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">_rdy</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">)</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  initial</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> begin</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  	$dumpfile</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">dump.vcd</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    $dumpvars</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">    </span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    _clk</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    _rst_n</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">    </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    #</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10ns</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">    </span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    _rst_n</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">    </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    #</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10ns</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">    </span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    _rst_n</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">    </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    #</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1000ns</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">        </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    foreach</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">rx</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">received_data</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">[</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">i</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      $display</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[DEBUG] RX RECEIVED </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">%d</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">: </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">%d</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">rx</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">received_data</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">[</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">i</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  	end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">    </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    foreach</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">tx</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">sent_data</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">[</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">i</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      $display</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[DEBUG] TX SENT </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">%d</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">: </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">%d</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">tx</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">sent_data</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">[</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">i</span><span style="--shiki-light:#999999;--shiki-dark:#444444;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  	end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">    </span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    $finish</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  end</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  always</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> #</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10ns</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> _clk</span><span style="--shiki-light:#999999;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ~</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">_clk</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CACC;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">endmodule</span></span></code></pre></div><h3 id="sample-waveform" tabindex="-1">Sample waveform <a class="header-anchor" href="#sample-waveform" aria-label="Permalink to &quot;Sample waveform&quot;">​</a></h3><p><img src="/assets/Untitled%204.CuDwgg-i.png" alt="Untitled"></p><p><img src="/assets/Untitled%205.C5fXDHTc.png" alt="Untitled"></p><p><img src="/assets/Untitled%206.B6MVPp8T.png" alt="Untitled"></p><h2 id="references" tabindex="-1">References <a class="header-anchor" href="#references" aria-label="Permalink to &quot;References&quot;">​</a></h2><ul><li>Drake, C. (2020, August 3). Ready/Valid Protocol Primer. Drake Enterprises. <a href="http://www.cjdrake.com/readyvalid-protocol-primer.html" target="_blank" rel="noreferrer">http://www.cjdrake.com/readyvalid-protocol-primer.html</a></li><li>W. Fletcher, C. (2009). EECS150: Interfaces: “FIFO” (a.k.a. Ready/Valid) (B). <a href="https://inst.eecs.berkeley.edu/~cs150/Documents/Interfaces.pdf" target="_blank" rel="noreferrer">https://inst.eecs.berkeley.edu/~cs150/Documents/Interfaces.pdf</a></li></ul></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><div class="edit-info" data-v-e257564d><div class="edit-link" data-v-e257564d><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/yanaginx/yanaginx.github.io/edit/vitepress_ver/docs/notes/Protocol/fifo_interface.md" target="_blank" rel="noreferrer" data-v-e257564d><!--[--><span class="vpi-square-pen edit-link-icon" data-v-e257564d></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-e257564d><p class="VPLastUpdated" data-v-e257564d data-v-e98dd255>Last updated: <time datetime="2024-09-29T10:01:40.000Z" data-v-e98dd255></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/notes/Definitions%20&amp;%20Concepts/circuit-and-system-perspective-notes.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>A Circuit and Systems Perspective notes</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/notes/SystemVerilog/language-features-note.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>Language features note</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>DV Depot</p><p class="copyright" data-v-e315a0ad>Copyright © 2022-2024 Duong Van</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"blog_authors_duong-van.md\":\"BWEcvAtL\",\"blog_index.md\":\"n5IiJ3Yu\",\"blog_posts_uvm-module-access.md\":\"DnT_vcmy\",\"extras_references.md\":\"LWkSFRre\",\"extras_site-info.md\":\"DewaIkft\",\"index.md\":\"D6ofYaQ0\",\"notes_definitions _ concepts_circuit-and-system-perspective-notes.md\":\"D_14hbbf\",\"notes_intro.md\":\"CkVF8i2m\",\"notes_protocol_fifo_interface.md\":\"BrunVD_V\",\"notes_systemverilog_language-features-note.md\":\"Dk8iUkg1\",\"notes_systemverilog_systemverilog-oop-for-uvm.md\":\"BZJzHCQB\",\"notes_uvm_advanced uvm_architecturing-a-uvm-testbench.md\":\"Di5-92D-\",\"notes_uvm_advanced uvm_how-tlm-works.md\":\"CP8nXJz3\",\"notes_uvm_advanced uvm_layered-sequences.md\":\"U9RNrZfb\",\"notes_uvm_advanced uvm_modeling-transactions.md\":\"DkeWVx0s\",\"notes_uvm_advanced uvm_register-based-testing.md\":\"CGmveS-W\",\"notes_uvm_advanced uvm_setting-up-the-register-layer.md\":\"D6k1VlkY\",\"notes_uvm_advanced uvm_the-proper-care-and-feeding-of-sequences.md\":\"DSZkAzKA\",\"notes_uvm_advanced uvm_understanding-the-factory-and-configuration.md\":\"CN1PVg50\",\"notes_uvm_advanced uvm_using-the-register-layer.md\":\"KibRdLrn\",\"notes_uvm_advanced uvm_writing-and-managing-tests.md\":\"B_A7-5GW\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"DV Depot\",\"description\":\"Casual thoughts, musings and whatever else is on the mind.\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"footer\":{\"message\":\"DV Depot\",\"copyright\":\"Copyright © 2022-2024 Duong Van\"},\"editLink\":{\"pattern\":\"https://github.com/yanaginx/yanaginx.github.io/edit/vitepress_ver/docs/:path\",\"text\":\"Edit this page on GitHub\"},\"nav\":[{\"text\":\"Notes\",\"link\":\"/notes/intro\",\"activeMatch\":\"/notes/\"},{\"text\":\"Blogs\",\"link\":\"/blog/\",\"activeMatch\":\"/blog/\"},{\"text\":\"Extras\",\"items\":[{\"text\":\"About\",\"link\":\"/extras/site-info\"},{\"text\":\"References\",\"link\":\"/extras/references\"}]}],\"sidebar\":[{\"text\":\"Notes\",\"items\":[{\"text\":\"Definitions & Concepts\",\"items\":[{\"text\":\"A Circuit and Systems Perspective notes\",\"link\":\"/notes/Definitions & Concepts/circuit-and-system-perspective-notes\"}],\"collapsed\":true},{\"text\":\"Protocol\",\"items\":[{\"text\":\"FIFO interface (ready/valid)\",\"link\":\"/notes/Protocol/fifo_interface\"}],\"collapsed\":true},{\"text\":\"SystemVerilog\",\"items\":[{\"text\":\"Language features note\",\"link\":\"/notes/SystemVerilog/language-features-note\"},{\"text\":\"SystemVerilog OOP for UVM\",\"link\":\"/notes/SystemVerilog/systemverilog-oop-for-uvm\"}],\"collapsed\":true},{\"text\":\"UVM\",\"items\":[{\"text\":\"Advanced UVM\",\"items\":[{\"text\":\"Architecting a UVM Testbench\",\"link\":\"/notes/UVM/Advanced UVM/architecturing-a-uvm-testbench\"},{\"text\":\"How TLM Works\",\"link\":\"/notes/UVM/Advanced UVM/how-tlm-works\"},{\"text\":\"Layered Sequences\",\"link\":\"/notes/UVM/Advanced UVM/layered-sequences\"},{\"text\":\"Modeling transactions\",\"link\":\"/notes/UVM/Advanced UVM/modeling-transactions\"},{\"text\":\"Register-Based Testing\",\"link\":\"/notes/UVM/Advanced UVM/register-based-testing\"},{\"text\":\"Setting up the Register Layer\",\"link\":\"/notes/UVM/Advanced UVM/setting-up-the-register-layer\"},{\"text\":\"The Proper Care and Feeding of Sequences\",\"link\":\"/notes/UVM/Advanced UVM/the-proper-care-and-feeding-of-sequences\"},{\"text\":\"Understanding the Factory and Configuration\",\"link\":\"/notes/UVM/Advanced UVM/understanding-the-factory-and-configuration\"},{\"text\":\"Using the Register Layer\",\"link\":\"/notes/UVM/Advanced UVM/using-the-register-layer\"},{\"text\":\"Writing and managing Tests\",\"link\":\"/notes/UVM/Advanced UVM/writing-and-managing-tests\"}],\"collapsed\":true}],\"collapsed\":true},{\"text\":\"Getting started\",\"link\":\"/notes/intro\"}],\"collapsed\":true}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/yanaginx/yanaginx.github.io\"}],\"search\":{\"provider\":\"local\"},\"blog\":{\"title\":\"The Blogs\",\"description\":\"Random thought and implementation on the go.\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>