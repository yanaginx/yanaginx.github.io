"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[914],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>k});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=a.createContext({}),c=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(o.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,o=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=c(n),h=i,k=p["".concat(o,".").concat(h)]||p[h]||u[h]||r;return n?a.createElement(k,l(l({ref:t},d),{},{components:n})):a.createElement(k,l({ref:t},d))}));function k(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=h;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s[p]="string"==typeof e?e:i,l[1]=s;for(var c=2;c<r;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},206:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var a=n(7462),i=(n(7294),n(3905));const r={slug:"the-proper-care-and-feeding-of-sequences"},l="The Proper Care and Feeding of Sequences",s={unversionedId:"UVM/Advanced UVM/The Proper Care and Feeding of Sequences 097d3eb384014414b6f464e1595aa2e5",id:"UVM/Advanced UVM/The Proper Care and Feeding of Sequences 097d3eb384014414b6f464e1595aa2e5",title:"The Proper Care and Feeding of Sequences",description:"Contents are extracted from the Advanced UVM sessions by Verification Academy.",source:"@site/docs/UVM/Advanced UVM/The Proper Care and Feeding of Sequences 097d3eb384014414b6f464e1595aa2e5.md",sourceDirName:"UVM/Advanced UVM",slug:"/UVM/Advanced UVM/the-proper-care-and-feeding-of-sequences",permalink:"/docs/UVM/Advanced UVM/the-proper-care-and-feeding-of-sequences",draft:!1,tags:[],version:"current",frontMatter:{slug:"the-proper-care-and-feeding-of-sequences"},sidebar:"tutorialSidebar",previous:{title:"Setting up the Register Layer",permalink:"/docs/UVM/Advanced UVM/setting-up-the-register-layer"},next:{title:"Understanding the Factory and Configuration",permalink:"/docs/UVM/Advanced UVM/understanding-the-factory-and-configuration"}},o={},c=[{value:"Review",id:"review",level:2},{value:"Sequencer/Driver handshake",id:"sequencerdriver-handshake",level:3},{value:"Sequence start",id:"sequence-start",level:3},{value:"Arbitration and Responses in the Sequencer",id:"arbitration-and-responses-in-the-sequencer",level:2},{value:"Sequential sequences",id:"sequential-sequences",level:2},{value:"Parallel sequences",id:"parallel-sequences",level:2},{value:"Hierarchical sequences",id:"hierarchical-sequences",level:2},{value:"Pipelined Driver",id:"pipelined-driver",level:2},{value:"Summary",id:"summary",level:2}],d={toc:c};function p(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,a.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"the-proper-care-and-feeding-of-sequences"},"The Proper Care and Feeding of Sequences"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Contents are extracted from the Advanced UVM sessions by ",(0,i.kt)("a",{parentName:"p",href:"https://verificationacademy.com/"},"Verification Academy"),".")),(0,i.kt)("h2",{id:"review"},"Review"),(0,i.kt)("p",null,"The sequence is always known to have a name when being instantiated - Good convention"),(0,i.kt)("p",null,"It is possible to reuse a initiated sequence object every iteration if there is guarantee on how the sequence data changed each iteration"),(0,i.kt)("p",null,"TLM passing the handle of the sequence, must guarantee if the driver or any other component having the handle either make a copy of the handle or finish processing handle"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"When ",(0,i.kt)("inlineCode",{parentName:"p"},"start_item")," returns \u2192 Driver is ready to accept the transaction")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"finish_item")," is called to send the transaction after the late randomization")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(4110).Z,width:"1993",height:"1166"})),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Sequencer is recommended to be declared as a class with factory registration")),(0,i.kt)("h3",{id:"sequencerdriver-handshake"},"Sequencer/Driver handshake"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(432).Z,width:"2451",height:"1250"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Cases where the driver also receive the response and sequence will be waiting for it:")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(4201).Z,width:"2516",height:"1245"})),(0,i.kt)("h3",{id:"sequence-start"},"Sequence start"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Starting sequence from the test")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(3148).Z,width:"639",height:"397"})),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Sequence can also be started from the environment also")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Behave like background/default sequence also")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(6302).Z,width:"639",height:"388"})),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"arbitration-and-responses-in-the-sequencer"},"Arbitration and Responses in the Sequencer"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(4857).Z,width:"771",height:"417"})),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(3127).Z,width:"762",height:"447"})),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(6322).Z,width:"762",height:"450"})),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(1421).Z,width:"903",height:"458"})),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(9716).Z,width:"1019",height:"483"})),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(1908).Z,width:"1017",height:"485"})),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Optional: additional response id field to indicate which transaction to be received on the sequence"),(0,i.kt)("p",{parentName:"blockquote"},"Get response call will not return until the transaction with matching transaction id is returned")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Typically used in sequences with ",(0,i.kt)("inlineCode",{parentName:"p"},"fork..join")," on multiple threads running concurrently"),(0,i.kt)("p",{parentName:"blockquote"},"Response item FIFO can only hold 8 items at a time")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(4409).Z,width:"977",height:"304"})),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(1692).Z,width:"1036",height:"305"})),(0,i.kt)("h2",{id:"sequential-sequences"},"Sequential sequences"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(1774).Z,width:"941",height:"389"})),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"start()")," is blocking so the ",(0,i.kt)("inlineCode",{parentName:"p"},"exec_seq")," won\u2019t start until the ",(0,i.kt)("inlineCode",{parentName:"p"},"init_seq")," finish executing")),(0,i.kt)("h2",{id:"parallel-sequences"},"Parallel sequences"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(5167).Z,width:"913",height:"423"})),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Have to implement additional checking logic to indicate the end of the execution when using ",(0,i.kt)("inlineCode",{parentName:"p"},"fork-join_none")," to explicitly drop the objection")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(7277).Z,width:"896",height:"430"})),(0,i.kt)("h2",{id:"hierarchical-sequences"},"Hierarchical sequences"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(5325).Z,width:"899",height:"329"})),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"this")," argument specify the parent sequence of the currently starting sequence")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(937).Z,width:"926",height:"393"})),(0,i.kt)("h2",{id:"pipelined-driver"},"Pipelined Driver"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Start another sequence before the finish of previous sequence")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Involved calling the task multiple time in ",(0,i.kt)("inlineCode",{parentName:"p"},"fork..join")," block")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(8392).Z,width:"758",height:"470"})),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:n(2931).Z,width:"762",height:"471"})),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"pipeline_lock.get()")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"pipeline_lock.put()")," are the semaphore and the its methods to control the resources"),(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"get")," claim the lock"),(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"put")," release the lock")),(0,i.kt)("h2",{id:"summary"},"Summary"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Make sure to parameterize sequence/sequencer/driver with the same request and response types")),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Start sequences using ",(0,i.kt)("inlineCode",{parentName:"em"},"seq.start(sequencer)"))),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Use ",(0,i.kt)("inlineCode",{parentName:"em"},"seq_item_port.get_next_item/item_done")," in the driver")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Use ",(0,i.kt)("inlineCode",{parentName:"li"},"try_next_item"),"/",(0,i.kt)("inlineCode",{parentName:"li"},"item_done")," if driver must perform idle cycles"),(0,i.kt)("li",{parentName:"ul"},"Use ",(0,i.kt)("inlineCode",{parentName:"li"},"get"),"/",(0,i.kt)("inlineCode",{parentName:"li"},"put")," for pipelined drivers")),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Use API from test or parent sequence to configure sequences")),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Sequence and Driver must agree on response path, if any")))}p.isMDXComponent=!0},432:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 1-40f821b1973a21d2bb45b29cb3a60d4d.png"},1908:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 10-9061548189229722bf5c05553b55e964.png"},4409:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 11-b976b8e86000ba7270b487af75d6f029.png"},1692:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 12-e4ec056b1eb23b09ee1b7ab42da40669.png"},1774:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 13-7248c39aab994bef3fdd1993754abc59.png"},5167:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 14-932f0387e2a644cd4290482ae6d2ca88.png"},7277:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 15-42cd23fbe059a7c04d387bdae1fcea9e.png"},5325:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 16-75858897c08f9a0b854a183565052763.png"},937:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 17-12913a5b1f78b13853d03c5cf03f80f4.png"},8392:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 18-f49f062aa3d7198868c2df0f70849767.png"},2931:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 19-95c5e43b10ade46198c8010182fa7be6.png"},4201:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 2-799029e831eb53f99a195b5ed5acf5ea.png"},3148:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 3-5dfb76e01f80091d19d92108cad19a59.png"},6302:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 4-84e97865985827a49621133752ea86d3.png"},4857:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 5-5f454260c72a690a3736bce2833ce978.png"},3127:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 6-37b55f1f2c6511e109da2578b9445154.png"},6322:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 7-e83bd607956af018a8cde3a88e21f814.png"},1421:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 8-d557f6c4dc1b4fba052d5d3e829d5b21.png"},9716:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled 9-bd9bf9bd813009f7b9f6ec9b3b91ba2e.png"},4110:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Untitled-c4ebfae23bc4f9587338aa45cb6812e3.png"}}]);